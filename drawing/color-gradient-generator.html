<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        #{
	box-sizing: border-box;
}


body{
	margin:0;
	height:100vh;
	font-family:'helvetica',sans-serif;
	font-weight:bold;
	font-size: 1.5rem;
	text-transform:uppercase;
}

#app{
	height:100%;
	display:flex;
	transition: background-color 5s;
}

.container{
	margin:auto;
	display:flex;
	flex-direction:column;
	align-items:center;
}

li{
	margin-bottom:5px;
	display:flex;
	align-items:center;
	position:relative;
}

li>button{
	border-radius: 0px 10px 10px 0px;
}

.button-group{
	display:flex;
	justify-content:space-between;
	width:100%;
}

.button-group>div>button{
	padding:15px 20px;
}

.button-group button{
	border-radius: 10px;
}

button{
	transition:0.25s
}

input,button{
	all:unset;
}

li>button::before{
	font-family: "FontAwesome";
	content: "\f09c";
}

.locked::before{
	content: "\f023";
}

input{
	display:inline;
	background:#ffffff;
	padding:15px;
	max-width:225px;
/* 	padding-left:0px; */
	border-radius:10px 0px 0px 10px;
}

li>button, .button-group button{
	background:#000000;
	color:#ffffff;
	padding:15px;
	cursor:pointer;
	min-width:25px;
	text-align:center;
}

.button-group button:hover{
	background:#ffffff;
	color:#000000;
}

li>button:hover::before{
	content: "\f023";
}

.locked:hover::before{
	content: "\f09c";
}

.pin{
	background:#000000;
	color:#ffffff;
/* 	transition:0.25s; */
	animation-duration: 0.05s;
/*   	animation-name: fillIn; */
}

ul li i {
  	content: "#";
	padding:15px;
	padding-right:0px;
	background:#ffffff;
	border-radius:10px 0px 0px 10px;
}

ul{
	list-style: none;
	margin:0;
	padding:0;
}

#add::before{
	font-family: "FontAwesome";
	content: "\f067";
}

#remove::before{
	font-family: "FontAwesome";
	content: "\f068";
}

#remove::before{
	font-family: "FontAwesome";
	content: "\f068";
}

.up::before{
	font-family: "FontAwesome";
	content: " ";
}

.down::before{
	font-family: "FontAwesome";
	content: " ";
}

.move button{
	font-size:1.25rem;
	cursor:pointer;
	height:50%;
	width:100%;
	text-align:center;
}

li:hover .up::before{
	content: "\f062";
}

li:hover .down::before{
	content: "\f063";
}

.move button:hover{
	color:#ffffff;
}

.move{
	display:flex;
	flex-direction:column;
	justify-content:center;
	position:absolute;
	right:calc(100%);
	height:100%;
	width:35px
}

li.shake{
	animation-duration: 0.75s;
  	animation-name: shake;
}

@keyframes fillIn {
	0% {
		background: linear-gradient(to right, #ffffff 100%, #000000 100%);
  }
	
	10% {
		background: linear-gradient(to right, #ffffff 90%, #000000 90%);
  }
	
	20% {
		background: linear-gradient(to right, #ffffff 80%, #000000 80%);
  }
	
	30% {
		background: linear-gradient(to right, #ffffff 70%, #000000 70%);
  }

	40%{
		background: linear-gradient(to right, #ffffff 60%, #000000 60%);
	}
	
	50%{
		background: linear-gradient(to right, #ffffff 50%, #000000 50%);
	}
	
	60% {
		background: linear-gradient(to right, #ffffff 40%, #000000 40%);
  }
	
	70%{
		background: linear-gradient(to right, #ffffff 30%, #000000 30%);
	}
	
  	80% {
    	background: linear-gradient(to right, #ffffff 20%, #000000 20%);
  }
	
	90%{
		background: linear-gradient(to right, #ffffff 10%, #000000 10%);
	}
	
	100% {
    	background: linear-gradient(to right, #ffffff 0%, #000000 0%);
  }
}

@keyframes shake {
  10%, 90% {
    transform: translate3d(-1px, 0, 0);
  }
  
  20%, 80% {
    transform: translate3d(2px, 0, 0);
  }

  30%, 50%, 70% {
    transform: translate3d(-4px, 0, 0);
  }

  40%, 60% {
    transform: translate3d(4px, 0, 0);
  }
}
    </style>
</head>
<body>

<div id="app" :style="{background: gradient}">
	<div class="container">
		<ul>
			<li v-for="(color,index) in colors" :key="color.id" :class="{shake : color.last}">
								<div class="move">
					<button class="up" @click="up(index)" v-if="index>0"></button>
					<button class="down" @click="down(index)" v-if="index<colors.length-1"></button>
				</div>
				<input type="text" v-model.trim="color.hex" maxlength="7" :style="{color: color.hex}" :class="{pin : color.disabled}" :disabled="color.disabled">
				<button @click="lockColor(index)" :class="{locked : color.disabled}"></button>

			</li>
		</ul>
		<div class="button-group">
			<div>
				<button @click="addColor" id="add"></button>
				<button @click="removeColor" id="remove" v-if="colors.length > 2"></button>
			</div>
			<button @click="generateGradient">random</button>
		</div>
	</div>
</div>

<script>
    const app = new Vue({
	el: '#app',
	data: {
		colors:[{id:0, hex:'#f12711', disabled:false}, {id:1, hex:'#f5af19', disabled:false}],
		id:2
	},
	methods: {
		addColor() {
			this.colors.push({id:this.id, hex:this.randomHex(), disabled:false})
			this.id++
			
		},
		removeColor() {
			if(this.colors[this.colors.length-1].disabled == false){
				if (this.colors.length > 2){
					this.colors.pop()
				}
			}

		},
		generateGradient(){
			for(let i=0;i<this.colors.length;i++){
				if (this.colors[i].disabled === false) this.colors[i].hex = this.randomHex()
			}
		},
		lockColor(index) {
			this.colors[index].disabled === true ?
				this.colors[index].disabled = false : 
				this.colors[index].disabled = true
		},
		randomHex() {
			return '#'+Math.random().toString(16).slice(2, 8)
		},
		up(index){
			if(index>0){
				let temp = this.colors[index]
				this.$set(this.colors,index,this.colors[index-1])
				this.$set(this.colors,index-1,temp)
			}
		},
		down(index){
			if(index<this.colors.length-1){
				let temp = this.colors[index]
				this.$set(this.colors,index,this.colors[index+1])
				this.$set(this.colors,index+1,temp)
			}
		}
	},
	computed: {
		gradient() {
			let colors = 'linear-gradient(45deg'
			this.colors.forEach(function(e){  
				colors += ',' + e.hex
			});
			colors += ')'
			return colors
		}
	},
	watch: {
		colors: function(){

		}
	}
})
</script>

</body>
</html>